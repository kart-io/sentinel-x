# æ™ºèƒ½ç¿»è¯‘ç³»ç»Ÿ (Multi-Agent Translation System)

è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨å¤šä¸ª AI Agent åä½œçš„æ™ºèƒ½ç¿»è¯‘ç³»ç»Ÿï¼Œèƒ½å¤Ÿè‡ªåŠ¨æ£€æµ‹è¾“å…¥æ–‡æœ¬çš„è¯­è¨€å¹¶ç¿»è¯‘æˆä¸­æ–‡ã€‚

## ğŸ¯ ç³»ç»Ÿæ¶æ„

è¯¥ç³»ç»Ÿä½¿ç”¨ä¸¤ä¸ªä¸“é—¨çš„ Agent åä½œå®Œæˆç¿»è¯‘ä»»åŠ¡ï¼š

### 1. ğŸ” è¯­è¨€æ£€æµ‹ Agent (Language Detection Agent)
- **èŒè´£**: è¯†åˆ«è¾“å…¥æ–‡æœ¬ä½¿ç”¨çš„è¯­è¨€
- **èƒ½åŠ›**: æ”¯æŒå¤šç§è¯­è¨€è¯†åˆ«ï¼ˆè‹±è¯­ã€æ³•è¯­ã€æ—¥è¯­ã€è¥¿ç­ç‰™è¯­ã€å¾·è¯­ã€ä¿„è¯­ã€ä¸­æ–‡ã€éŸ©è¯­ç­‰ï¼‰
- **è¾“å‡º**: è¿”å›æ£€æµ‹åˆ°çš„è¯­è¨€åç§°ï¼ˆä¸­æ–‡ï¼‰

### 2. ğŸŒ ç¿»è¯‘ Agent (Translation Agent)
- **èŒè´£**: å°†æ–‡æœ¬ç¿»è¯‘æˆç®€ä½“ä¸­æ–‡
- **èƒ½åŠ›**:
  - ä¿æŒåŸæ–‡è¯­æ°”å’Œé£æ ¼
  - å‡†ç¡®ã€è‡ªç„¶ã€æµç•…çš„ç¿»è¯‘
  - ä¿ç•™ä¸“æœ‰åè¯å’Œæ ¼å¼
- **ä¼˜åŒ–**: å¦‚æœæ£€æµ‹åˆ°è¾“å…¥å·²ç»æ˜¯ä¸­æ–‡ï¼Œåˆ™è·³è¿‡ç¿»è¯‘

## ğŸš€ ç‰¹æ€§

- **å¤š Agent åä½œ**: ä¸¤ä¸ªä¸“é—¨çš„ Agent åˆ†å·¥åˆä½œ
- **è‡ªåŠ¨è¯­è¨€æ£€æµ‹**: æ— éœ€æ‰‹åŠ¨æŒ‡å®šæºè¯­è¨€
- **é«˜è´¨é‡ç¿»è¯‘**: ä½¿ç”¨ DeepSeek Chat æ¨¡å‹ç¡®ä¿ç¿»è¯‘è´¨é‡
- **æ™ºèƒ½ä¼˜åŒ–**: è‡ªåŠ¨è·³è¿‡ä¸­æ–‡åˆ°ä¸­æ–‡çš„ç¿»è¯‘
- **å¤šè¯­è¨€æ”¯æŒ**: æ”¯æŒè‹±è¯­ã€æ³•è¯­ã€æ—¥è¯­ã€è¥¿ç­ç‰™è¯­ã€å¾·è¯­ã€ä¿„è¯­ç­‰ä¸»æµè¯­è¨€
- **Token ä½¿ç”¨è¿½è¸ª**: å®æ—¶æ˜¾ç¤ºæ¯æ¬¡æ“ä½œçš„ token æ¶ˆè€—å’Œæˆæœ¬
- **æˆæœ¬ä¼°ç®—**: åŸºäº DeepSeek å®˜æ–¹å®šä»·è‡ªåŠ¨è®¡ç®—ä½¿ç”¨æˆæœ¬

## ğŸ“¦ ä¾èµ–

- Go 1.25.0+
- GoAgent æ¡†æ¶
- DeepSeek API Key

## ğŸ”§ é…ç½®

### è·å– DeepSeek API Key

1. è®¿é—® [DeepSeek å®˜ç½‘](https://platform.deepseek.com/)
2. æ³¨å†Œè´¦å·å¹¶è·å– API Key
3. è®¾ç½®ç¯å¢ƒå˜é‡ï¼š

```bash
export DEEPSEEK_API_KEY="your-api-key-here"
```

## ğŸ® ä½¿ç”¨æ–¹æ³•

### è¿è¡Œæ‰¹é‡æµ‹è¯•ç¤ºä¾‹

```bash
cd examples/translate
go run main.go
```

### è¿è¡Œäº¤äº’å¼ç¤ºä¾‹

```bash
cd examples/translate/interactive
go run main.go "Hello, world!"
# æˆ–è€…ä¸å¸¦å‚æ•°ï¼Œç¨‹åºä¼šæç¤ºè¾“å…¥
go run main.go
```

### ä»£ç ç¤ºä¾‹

```go
package main

import (
    "context"
    "fmt"
    "log"
    "os"

    "github.com/kart-io/goagent/builder"
    "github.com/kart-io/goagent/core/state"
    "github.com/kart-io/goagent/llm"
    "github.com/kart-io/goagent/llm/providers"
)

func main() {
    // 1. åˆå§‹åŒ– DeepSeek å®¢æˆ·ç«¯
    apiKey := os.Getenv("DEEPSEEK_API_KEY")
    llmClient, err := providers.NewDeepSeek(&llm.Config{
        APIKey:      apiKey,
        Model:       "deepseek-chat",
        Temperature: 0.3,
        MaxTokens:   2000,
    })
    if err != nil {
        log.Fatal(err)
    }

    // 2. åˆ›å»ºç¿»è¯‘ç³»ç»Ÿ
    translator := NewMultiAgentTranslator(llmClient)

    // 3. æ‰§è¡Œç¿»è¯‘
    ctx := context.Background()
    result, err := translator.Translate(ctx, "Hello, world!")
    if err != nil {
        log.Fatal(err)
    }

    // 4. æŸ¥çœ‹ç»“æœ
    fmt.Printf("åŸæ–‡: %s\n", result.OriginalText)
    fmt.Printf("æ£€æµ‹è¯­è¨€: %s\n", result.DetectedLanguage)
    fmt.Printf("ç¿»è¯‘ç»“æœ: %s\n", result.TranslatedText)
}

// åˆ›å»º Agent æ—¶éœ€è¦æä¾›åˆå§‹çŠ¶æ€
func createAgent(llmClient llm.Client, systemPrompt string) *builder.ConfigurableAgent[any, core.State] {
    agent, err := builder.NewAgentBuilder[any, core.State](llmClient).
        WithSystemPrompt(systemPrompt).
        WithState(state.NewAgentState()).  // å¿…é¡»æä¾›åˆå§‹çŠ¶æ€
        Build()

    if err != nil {
        log.Fatal(err)
    }

    return agent
}
```

## ğŸ“Š ç³»ç»Ÿæµç¨‹å›¾

### æ•´ä½“æ‰§è¡Œæµç¨‹

```mermaid
graph TD
    Start([å¼€å§‹]) --> Input[ç”¨æˆ·è¾“å…¥æ–‡æœ¬]
    Input --> Init[åˆå§‹åŒ–ç¿»è¯‘ç³»ç»Ÿ]
    Init --> CreateAgents[åˆ›å»º Agent]

    CreateAgents --> DetectionAgent[è¯­è¨€æ£€æµ‹ Agent]
    CreateAgents --> TranslationAgent[ç¿»è¯‘ Agent]

    DetectionAgent --> Execute[æ‰§è¡Œç¿»è¯‘æµç¨‹]
    TranslationAgent --> Execute

    Execute --> Step1[æ­¥éª¤1: è¯­è¨€æ£€æµ‹]
    Step1 --> LLM1[è°ƒç”¨ DeepSeek LLM]
    LLM1 --> DetectResult[è·å–è¯­è¨€åç§°]

    DetectResult --> Check{æ˜¯å¦ä¸ºä¸­æ–‡?}
    Check -->|æ˜¯| SkipTranslate[è·³è¿‡ç¿»è¯‘]
    Check -->|å¦| Step2[æ­¥éª¤2: æ‰§è¡Œç¿»è¯‘]

    Step2 --> LLM2[è°ƒç”¨ DeepSeek LLM]
    LLM2 --> TransResult[è·å–ç¿»è¯‘ç»“æœ]

    SkipTranslate --> Output[è¾“å‡ºç»“æœ]
    TransResult --> Output

    Output --> End([ç»“æŸ])

    style Start fill:#90EE90
    style End fill:#FFB6C1
    style LLM1 fill:#87CEEB
    style LLM2 fill:#87CEEB
    style Check fill:#FFD700
```

### è¯¦ç»†å·¥ä½œæµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç”¨æˆ·è¾“å…¥æ–‡æœ¬                               â”‚
â”‚                 "Hello, how are you?"                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              MultiAgentTranslator.Translate()                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  åˆå§‹åŒ– TranslationResult                            â”‚   â”‚
â”‚  â”‚  result.OriginalText = "Hello, how are you?"        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            æ­¥éª¤ 1: è¯­è¨€æ£€æµ‹ (detectLanguage)                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ğŸ” è¯­è¨€æ£€æµ‹ Agent                                   â”‚   â”‚
â”‚  â”‚  â”œâ”€ System Prompt: "ä½ æ˜¯è¯­è¨€æ£€æµ‹ä¸“å®¶..."            â”‚   â”‚
â”‚  â”‚  â”œâ”€ Input: "Hello, how are you?"                    â”‚   â”‚
â”‚  â”‚  â”œâ”€ DeepSeek LLM å¤„ç†                                â”‚   â”‚
â”‚  â”‚  â””â”€ Output: "è‹±è¯­"                                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â”‚  result.DetectedLanguage = "è‹±è¯­"                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚ æ˜¯ä¸­æ–‡? â”‚
                  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
                 å¦ â”‚        â”‚ æ˜¯
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚           â”‚                     â”‚
         â–¼           â–¼                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ­¥éª¤ 2: ç¿»è¯‘ (translateText)â”‚    â”‚  è·³è¿‡ç¿»è¯‘         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚    â”‚  result.         â”‚
â”‚  â”‚ ğŸŒ ç¿»è¯‘ Agent           â”‚â”‚    â”‚  TranslatedText  â”‚
â”‚  â”‚ â”œâ”€ System Prompt:      â”‚â”‚    â”‚  = åŸæ–‡           â”‚
â”‚  â”‚ â”‚  "ä½ æ˜¯ç¿»è¯‘ä¸“å®¶..."    â”‚â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚  â”‚ â”œâ”€ Input: "è¯·å°†ä»¥ä¸‹    â”‚â”‚             â”‚
â”‚  â”‚ â”‚  è‹±è¯­æ–‡æœ¬ç¿»è¯‘æˆä¸­æ–‡"  â”‚â”‚             â”‚
â”‚  â”‚ â”œâ”€ DeepSeek LLM å¤„ç†   â”‚â”‚             â”‚
â”‚  â”‚ â””â”€ Output:             â”‚â”‚             â”‚
â”‚  â”‚    "ä½ å¥½ï¼Œä½ å¥½å—ï¼Ÿ"    â”‚â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚             â”‚
â”‚                            â”‚             â”‚
â”‚ result.TranslatedText =    â”‚             â”‚
â”‚   "ä½ å¥½ï¼Œä½ å¥½å—ï¼Ÿ"          â”‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
              â”‚                            â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚       è¿”å› TranslationResult   â”‚
         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
         â”‚  â”‚ OriginalText: "Hello..." â”‚ â”‚
         â”‚  â”‚ DetectedLanguage: "è‹±è¯­" â”‚ â”‚
         â”‚  â”‚ TranslatedText:          â”‚ â”‚
         â”‚  â”‚   "ä½ å¥½ï¼Œä½ å¥½å—ï¼Ÿ"        â”‚ â”‚
         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ’¡ ç¤ºä¾‹è¾“å‡º

```
========================================
=== æ™ºèƒ½ç¿»è¯‘ç³»ç»Ÿ (Multi-Agent) ===
========================================

ä½¿ç”¨ DeepSeek Chat æ¨¡å‹

ã€æµ‹è¯• 1ã€‘
è¾“å…¥: Hello, how are you today?
------------------------------------------------------------
ğŸ” è¯­è¨€æ£€æµ‹ä»£ç†: æ­£åœ¨è¯†åˆ«è¯­è¨€...
âœ“ æ£€æµ‹å®Œæˆ: è‹±è¯­ (ä½¿ç”¨ 245 tokens)
ğŸŒ ç¿»è¯‘ä»£ç†: æ­£åœ¨ç¿»è¯‘æ–‡æœ¬...
âœ“ ç¿»è¯‘å®Œæˆ (ä½¿ç”¨ 312 tokens)
æ£€æµ‹è¯­è¨€: è‹±è¯­
ç¿»è¯‘ç»“æœ: ä½ å¥½ï¼Œä½ ä»Šå¤©å¥½å—ï¼Ÿ
Token ä½¿ç”¨æƒ…å†µ:
  - è¯­è¨€æ£€æµ‹: 245 tokens
  - ç¿»è¯‘: 312 tokens
  - æ€»è®¡: 557 tokens
============================================================

ã€æµ‹è¯• 2ã€‘
è¾“å…¥: Bonjour, comment allez-vous?
------------------------------------------------------------
ğŸ” è¯­è¨€æ£€æµ‹ä»£ç†: æ­£åœ¨è¯†åˆ«è¯­è¨€...
âœ“ æ£€æµ‹å®Œæˆ: æ³•è¯­ (ä½¿ç”¨ 238 tokens)
ğŸŒ ç¿»è¯‘ä»£ç†: æ­£åœ¨ç¿»è¯‘æ–‡æœ¬...
âœ“ ç¿»è¯‘å®Œæˆ (ä½¿ç”¨ 298 tokens)
æ£€æµ‹è¯­è¨€: æ³•è¯­
ç¿»è¯‘ç»“æœ: ä½ å¥½ï¼Œæ‚¨å¥½å—ï¼Ÿ
Token ä½¿ç”¨æƒ…å†µ:
  - è¯­è¨€æ£€æµ‹: 238 tokens
  - ç¿»è¯‘: 298 tokens
  - æ€»è®¡: 536 tokens
============================================================

ã€æµ‹è¯• 3ã€‘
è¾“å…¥: ã“ã‚“ã«ã¡ã¯ã€ãŠå…ƒæ°—ã§ã™ã‹ï¼Ÿ
------------------------------------------------------------
ğŸ” è¯­è¨€æ£€æµ‹ä»£ç†: æ­£åœ¨è¯†åˆ«è¯­è¨€...
âœ“ æ£€æµ‹å®Œæˆ: æ—¥è¯­ (ä½¿ç”¨ 252 tokens)
ğŸŒ ç¿»è¯‘ä»£ç†: æ­£åœ¨ç¿»è¯‘æ–‡æœ¬...
âœ“ ç¿»è¯‘å®Œæˆ (ä½¿ç”¨ 305 tokens)
æ£€æµ‹è¯­è¨€: æ—¥è¯­
ç¿»è¯‘ç»“æœ: ä½ å¥½ï¼Œæ‚¨å¥½å—ï¼Ÿ
Token ä½¿ç”¨æƒ…å†µ:
  - è¯­è¨€æ£€æµ‹: 252 tokens
  - ç¿»è¯‘: 305 tokens
  - æ€»è®¡: 557 tokens
============================================================

ã€æµ‹è¯• 4ã€‘
è¾“å…¥: ä½ å¥½ï¼Œä»Šå¤©å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿ
------------------------------------------------------------
ğŸ” è¯­è¨€æ£€æµ‹ä»£ç†: æ­£åœ¨è¯†åˆ«è¯­è¨€...
âœ“ æ£€æµ‹å®Œæˆ: ä¸­æ–‡ (ä½¿ç”¨ 235 tokens)
ğŸŒ ç¿»è¯‘ä»£ç†: æ­£åœ¨ç¿»è¯‘æ–‡æœ¬...
âœ“ ç¿»è¯‘å®Œæˆ (ä½¿ç”¨ 0 tokens)
æ£€æµ‹è¯­è¨€: ä¸­æ–‡
ç¿»è¯‘ç»“æœ: ä½ å¥½ï¼Œä»Šå¤©å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿ
Token ä½¿ç”¨æƒ…å†µ:
  - è¯­è¨€æ£€æµ‹: 235 tokens
  - ç¿»è¯‘: 0 tokens
  - æ€»è®¡: 235 tokens
============================================================

âœ¨ ç¿»è¯‘ç³»ç»Ÿæµ‹è¯•å®Œæˆ!

ğŸ“Š æ€»ä½“ç»Ÿè®¡:
  - æ€» Token ä½¿ç”¨é‡: 3,850 tokens
  - æ€»æˆæœ¬: $0.000809
```

## ğŸ“Š Token ä½¿ç”¨ä¸æˆæœ¬

### Token è¿½è¸ªæœºåˆ¶

ç³»ç»Ÿä½¿ç”¨ GoAgent çš„ `CostTrackingCallback` å®æ—¶è¿½è¸ªæ¯æ¬¡ LLM è°ƒç”¨çš„ token ä½¿ç”¨æƒ…å†µï¼š

```go
// åˆ›å»º token è¿½è¸ªå™¨
pricing := map[string]float64{
    "deepseek-chat": 0.21 / 1_000_000, // DeepSeek å¹³å‡ä»·æ ¼ï¼š$0.21/M tokens
}
tokenTracker := core.NewCostTrackingCallback(pricing)

// æ·»åŠ åˆ° Agent é…ç½®
agent, err := builder.NewAgentBuilder[any, core.State](llmClient).
    WithSystemPrompt(systemPrompt).
    WithState(state.NewAgentState()).
    WithCallbacks(tokenTracker). // æ·»åŠ  token è¿½è¸ªå›è°ƒ
    Build()
```

### DeepSeek å®šä»·

æ ¹æ® [DeepSeek å®˜æ–¹å®šä»·](https://platform.deepseek.com/pricing)ï¼ˆæˆªè‡³ 2025-01ï¼‰ï¼š

| æ¨¡å‹ | è¾“å…¥ä»·æ ¼ | è¾“å‡ºä»·æ ¼ | å¹³å‡ä»·æ ¼ |
|------|---------|---------|---------|
| deepseek-chat | $0.14/M tokens | $0.28/M tokens | $0.21/M tokens |

**æ³¨æ„**: æœ¬ç¤ºä¾‹ä½¿ç”¨å¹³å‡ä»·æ ¼ $0.21/M tokens è¿›è¡Œä¼°ç®—ï¼Œå®é™…æˆæœ¬å¯èƒ½ç•¥æœ‰ä¸åŒã€‚

### Token ä½¿ç”¨åˆ†æ

å…¸å‹ç¿»è¯‘ä»»åŠ¡çš„ token æ¶ˆè€—ï¼š

| æ“ä½œ | Token èŒƒå›´ | è¯´æ˜ |
|------|-----------|------|
| è¯­è¨€æ£€æµ‹ | 200-300 tokens | åŒ…å« System Prompt + è¾“å…¥æ–‡æœ¬ |
| æ–‡æœ¬ç¿»è¯‘ | 250-400 tokens | åŒ…å« System Prompt + è¾“å…¥æ–‡æœ¬ + è¾“å‡º |
| è·³è¿‡ç¿»è¯‘ï¼ˆä¸­æ–‡ï¼‰ | 0 tokens | æ™ºèƒ½ä¼˜åŒ–ï¼Œæ£€æµ‹åˆ°ä¸­æ–‡åä¸è°ƒç”¨ç¿»è¯‘ LLM |

### æˆæœ¬ä¼˜åŒ–å»ºè®®

1. **æ‰¹é‡å¤„ç†**: ä¸€æ¬¡å¤„ç†å¤šä¸ªæ–‡æœ¬å¯ä»¥åˆ†æ‘Š System Prompt çš„ token æˆæœ¬
2. **ç¼“å­˜ç»“æœ**: å¯¹äºé‡å¤ç¿»è¯‘çš„æ–‡æœ¬å¯ä»¥ä½¿ç”¨ç¼“å­˜
3. **è¯­è¨€é¢„åˆ¤**: å¦‚æœå·²çŸ¥æºè¯­è¨€ï¼Œå¯ä»¥è·³è¿‡è¯­è¨€æ£€æµ‹æ­¥éª¤
4. **ç®€åŒ– Prompt**: åœ¨ä¿è¯è´¨é‡çš„å‰æä¸‹ï¼Œå¯ä»¥é€‚å½“ç®€åŒ– System Prompt

### TranslationResult ç»“æ„

```go
type TranslationResult struct {
    OriginalText      string `json:"original_text"`      // åŸæ–‡
    DetectedLanguage  string `json:"detected_language"`  // æ£€æµ‹åˆ°çš„è¯­è¨€
    TranslatedText    string `json:"translated_text"`    // ç¿»è¯‘ç»“æœ
    TokensUsed        int    `json:"tokens_used"`        // æ€» token æ•°
    DetectionTokens   int    `json:"detection_tokens"`   // è¯­è¨€æ£€æµ‹ token
    TranslationTokens int    `json:"translation_tokens"` // ç¿»è¯‘ token
}
```

## ğŸ—ï¸ ç³»ç»Ÿè®¾è®¡

### ç³»ç»Ÿæ¶æ„å›¾

```mermaid
graph TB
    subgraph "ç”¨æˆ·å±‚"
        User[ç”¨æˆ·]
        CLI[å‘½ä»¤è¡Œç•Œé¢]
    end

    subgraph "åº”ç”¨å±‚"
        Main[main.go<br/>æ‰¹é‡æµ‹è¯•]
        Interactive[interactive/main.go<br/>äº¤äº’å¼]
    end

    subgraph "ä¸šåŠ¡å±‚ - MultiAgentTranslator"
        Translator[ç¿»è¯‘åè°ƒå™¨]
        DetectLang[detectLanguage<br/>è¯­è¨€æ£€æµ‹æ–¹æ³•]
        TransText[translateText<br/>ç¿»è¯‘æ–¹æ³•]
    end

    subgraph "Agent å±‚"
        DetectionAgent[ğŸ” è¯­è¨€æ£€æµ‹ Agent<br/>ConfigurableAgent]
        TranslationAgent[ğŸŒ ç¿»è¯‘ Agent<br/>ConfigurableAgent]
    end

    subgraph "LLM å±‚"
        DeepSeek[DeepSeek LLM Provider<br/>deepseek-chat]
    end

    subgraph "æ¡†æ¶å±‚ - GoAgent"
        Builder[AgentBuilder<br/>æ„å»ºå™¨]
        State[AgentState<br/>çŠ¶æ€ç®¡ç†]
        LLMClient[LLM Client<br/>æ¥å£]
    end

    User --> CLI
    CLI --> Main
    CLI --> Interactive
    Main --> Translator
    Interactive --> Translator

    Translator --> DetectLang
    Translator --> TransText

    DetectLang --> DetectionAgent
    TransText --> TranslationAgent

    DetectionAgent --> Builder
    TranslationAgent --> Builder

    Builder --> State
    Builder --> LLMClient

    DetectionAgent --> DeepSeek
    TranslationAgent --> DeepSeek

    LLMClient --> DeepSeek

    style User fill:#90EE90
    style DeepSeek fill:#87CEEB
    style Translator fill:#FFD700
    style DetectionAgent fill:#FFA07A
    style TranslationAgent fill:#FFA07A
```

### åºåˆ—å›¾ - Agent äº¤äº’æµç¨‹

```mermaid
sequenceDiagram
    participant U as ç”¨æˆ·
    participant M as main.go
    participant T as ç¿»è¯‘å™¨
    participant DA as è¯­è¨€æ£€æµ‹Agent
    participant TA as ç¿»è¯‘Agent
    participant LLM as DeepSeekæ¨¡å‹

    U->>M: è¾“å…¥æ–‡æœ¬ "Hello, world!"
    M->>T: åˆ›å»ºç¿»è¯‘å™¨å®ä¾‹

    Note right of T: åˆå§‹åŒ–é˜¶æ®µ
    T->>DA: createLanguageDetectionAgent()
    T->>TA: createTranslationAgent()

    M->>T: Translate(ctx, text)

    Note over T,DA: æ­¥éª¤1: è¯­è¨€æ£€æµ‹
    T->>T: åˆå§‹åŒ– TranslationResult
    T->>DA: detectLanguage(ctx, "Hello, world!")
    DA->>LLM: Execute() - è¯†åˆ«è¯­è¨€
    LLM-->>DA: "è‹±è¯­"
    DA-->>T: return "è‹±è¯­"
    T->>T: result.DetectedLanguage = "è‹±è¯­"

    Note over T: æ­¥éª¤2: æ¡ä»¶åˆ¤æ–­
    T->>T: if language != "ä¸­æ–‡"

    Note over T,TA: æ­¥éª¤3: æ‰§è¡Œç¿»è¯‘
    T->>TA: translateText(ctx, text, "è‹±è¯­")
    TA->>TA: æ„å»ºæç¤ºè¯
    TA->>LLM: Execute() - ç¿»è¯‘æ–‡æœ¬
    LLM-->>TA: "ä½ å¥½ï¼Œä¸–ç•Œï¼"
    TA-->>T: return "ä½ å¥½ï¼Œä¸–ç•Œï¼"
    T->>T: result.TranslatedText = "ä½ å¥½ï¼Œä¸–ç•Œï¼"

    T-->>M: return TranslationResult
    M->>U: æ˜¾ç¤ºç¿»è¯‘ç»“æœ

    Note over U: åŸæ–‡: Hello, world!<br/>æ£€æµ‹è¯­è¨€: è‹±è¯­<br/>ç¿»è¯‘ç»“æœ: ä½ å¥½ï¼Œä¸–ç•Œï¼
```

### æ•°æ®æµå›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        æ•°æ®æµå‘                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

è¾“å…¥æ–‡æœ¬
   â”‚
   â”‚  "Hello, world!"
   â”‚
   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TranslationResult                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ OriginalText: "Hello, world!"  â”‚ â”‚
â”‚  â”‚ DetectedLanguage: ""           â”‚ â”‚
â”‚  â”‚ TranslatedText: ""             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â”‚  ä¼ é€’ç»™è¯­è¨€æ£€æµ‹ Agent
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è¯­è¨€æ£€æµ‹ Agent è¾“å…¥                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Input: "Hello, world!"         â”‚ â”‚
â”‚  â”‚ SystemPrompt: "ä½ æ˜¯è¯­è¨€æ£€æµ‹ä¸“å®¶"â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â”‚  è°ƒç”¨ DeepSeek LLM
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LLM å¤„ç†                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Model: deepseek-chat           â”‚ â”‚
â”‚  â”‚ Temperature: 0.3               â”‚ â”‚
â”‚  â”‚ MaxTokens: 2000                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â”‚  è¿”å›æ£€æµ‹ç»“æœ
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è¯­è¨€æ£€æµ‹ Agent è¾“å‡º                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Output: "è‹±è¯­"                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â”‚  æ›´æ–°ç»“æœ
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TranslationResult (æ›´æ–°å)          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ OriginalText: "Hello, world!"  â”‚ â”‚
â”‚  â”‚ DetectedLanguage: "è‹±è¯­"       â”‚ â”‚
â”‚  â”‚ TranslatedText: ""             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â”‚  ä¼ é€’ç»™ç¿»è¯‘ Agent
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç¿»è¯‘ Agent è¾“å…¥                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Input: "è¯·å°†ä»¥ä¸‹è‹±è¯­æ–‡æœ¬ç¿»è¯‘æˆ â”‚ â”‚
â”‚  â”‚        ä¸­æ–‡ï¼šHello, world!"    â”‚ â”‚
â”‚  â”‚ SystemPrompt: "ä½ æ˜¯ç¿»è¯‘ä¸“å®¶"   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â”‚  è°ƒç”¨ DeepSeek LLM
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LLM å¤„ç†                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Model: deepseek-chat           â”‚ â”‚
â”‚  â”‚ Temperature: 0.3               â”‚ â”‚
â”‚  â”‚ MaxTokens: 2000                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â”‚  è¿”å›ç¿»è¯‘ç»“æœ
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç¿»è¯‘ Agent è¾“å‡º                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Output: "ä½ å¥½ï¼Œä¸–ç•Œï¼"          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â”‚  æ›´æ–°ç»“æœ
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TranslationResult (æœ€ç»ˆ)            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ OriginalText: "Hello, world!"  â”‚ â”‚
â”‚  â”‚ DetectedLanguage: "è‹±è¯­"       â”‚ â”‚
â”‚  â”‚ TranslatedText: "ä½ å¥½ï¼Œä¸–ç•Œï¼" â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â”‚  è¿”å›ç»™ç”¨æˆ·
                   â”‚
                   â–¼
                è¾“å‡ºç»“æœ
```

### MultiAgentTranslator ç»“æ„

```go
type MultiAgentTranslator struct {
    llmClient         llm.Client
    detectionAgent    *builder.ConfigurableAgent[any, core.State]
    translationAgent  *builder.ConfigurableAgent[any, core.State]
}
```

### æ ¸å¿ƒæ–¹æ³•

1. **Translate(ctx, text)** - ä¸»ç¿»è¯‘æµç¨‹
   - è°ƒç”¨è¯­è¨€æ£€æµ‹ Agent
   - è°ƒç”¨ç¿»è¯‘ Agent
   - è¿”å›å®Œæ•´ç»“æœ

2. **detectLanguage(ctx, text)** - è¯­è¨€æ£€æµ‹
   - ä½¿ç”¨ä¸“é—¨çš„æ£€æµ‹ Agent
   - è¿”å›è¯­è¨€åç§°ï¼ˆä¸­æ–‡ï¼‰

3. **translateText(ctx, text, language)** - æ–‡æœ¬ç¿»è¯‘
   - ä½¿ç”¨ä¸“é—¨çš„ç¿»è¯‘ Agent
   - æ™ºèƒ½è·³è¿‡ä¸­æ–‡åˆ°ä¸­æ–‡çš„ç¿»è¯‘

## ğŸ¯ æ”¯æŒçš„è¯­è¨€

- âœ… è‹±è¯­ (English)
- âœ… æ³•è¯­ (French)
- âœ… æ—¥è¯­ (Japanese)
- âœ… è¥¿ç­ç‰™è¯­ (Spanish)
- âœ… å¾·è¯­ (German)
- âœ… ä¿„è¯­ (Russian)
- âœ… ä¸­æ–‡ (Chinese)
- âœ… éŸ©è¯­ (Korean)
- âœ… å…¶ä»–è¯­è¨€ï¼ˆè‡ªåŠ¨è¯†åˆ«ï¼‰

## âš™ï¸ é…ç½®é€‰é¡¹

### DeepSeek é…ç½®

```go
&llm.Config{
    APIKey:      "your-api-key",
    Model:       "deepseek-chat",  // DeepSeek å¯¹è¯æ¨¡å‹
    Temperature: 0.3,               // ä½æ¸©åº¦è·å¾—æ›´å‡†ç¡®çš„ç¿»è¯‘
    MaxTokens:   2000,              // æœ€å¤§ token æ•°
}
```

### Agent é…ç½®

å¯ä»¥é€šè¿‡ `builder.NewAgentBuilder` è‡ªå®šä¹‰ Agent é…ç½®ï¼š
- System Promptï¼ˆç³»ç»Ÿæç¤ºï¼‰
- Temperatureï¼ˆæ¸©åº¦ï¼‰
- Max Tokensï¼ˆæœ€å¤§ token æ•°ï¼‰
- å…¶ä»–å‚æ•°

## ğŸ” æ¶æ„ç¬¦åˆæ€§

è¯¥å®ç°éµå¾ª GoAgent çš„ 4 å±‚æ¶æ„ï¼š

- âœ… **Layer 4 (Examples)**: ä½äº `examples/translate/`
- âœ… **å¯¼å…¥è§„åˆ™**: åªä» Layer 1 (interfaces) å’Œ Layer 2 (core, builder, llm) å¯¼å…¥
- âœ… **æ— å¾ªç¯ä¾èµ–**: æ²¡æœ‰å‘ä¸Šå¯¼å…¥æˆ–å¾ªç¯ä¾èµ–
- âœ… **ä»£ç è´¨é‡**: éµå¾ª Go ä»£ç è§„èŒƒå’Œæœ€ä½³å®è·µ

## ğŸ› ï¸ æ‰©å±•å»ºè®®

### æ·»åŠ æ›´å¤šè¯­è¨€æ”¯æŒ

åœ¨ `createLanguageDetectionAgent` çš„ system prompt ä¸­æ·»åŠ æ–°è¯­è¨€è§„åˆ™ã€‚

### æ”¯æŒå…¶ä»–ç›®æ ‡è¯­è¨€

ä¿®æ”¹ `createTranslationAgent` çš„ system promptï¼Œæ”¯æŒç¿»è¯‘æˆå…¶ä»–ç›®æ ‡è¯­è¨€ã€‚

### æ·»åŠ ç¼“å­˜

ä½¿ç”¨ GoAgent çš„ä¸­é—´ä»¶ç³»ç»Ÿæ·»åŠ ç¿»è¯‘ç»“æœç¼“å­˜ï¼Œæé«˜æ€§èƒ½ã€‚

### æ‰¹é‡ç¿»è¯‘

æ‰©å±• `MultiAgentTranslator` æ”¯æŒæ‰¹é‡ç¿»è¯‘å¤šä¸ªæ–‡æœ¬ã€‚

## ğŸ“ è®¸å¯è¯

éµå¾ª GoAgent é¡¹ç›®çš„è®¸å¯è¯ã€‚

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

---

**æœ€åæ›´æ–°**: 2025-11-15
**ä½œè€…**: GoAgent Team
