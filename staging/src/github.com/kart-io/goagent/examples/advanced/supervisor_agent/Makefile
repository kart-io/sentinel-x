# Makefile for SupervisorAgent Examples

.PHONY: help run-basic run-travel run-review run-advanced run-all build clean check-env

# é»˜è®¤ç›®æ ‡
.DEFAULT_GOAL := help

# å¸®åŠ©ä¿¡æ¯
help:
	@echo "SupervisorAgent ç¤ºä¾‹è¿è¡Œå‘½ä»¤ï¼š"
	@echo ""
	@echo "  make run-basic       - è¿è¡ŒåŸºç¡€ç¤ºä¾‹ï¼ˆå¤š Agent åä½œï¼‰"
	@echo "  make run-travel      - è¿è¡Œæ—…è¡Œè§„åˆ’ç¤ºä¾‹ï¼ˆå±‚æ¬¡èšåˆï¼‰"
	@echo "  make run-review      - è¿è¡Œä»£ç å®¡æŸ¥ç¤ºä¾‹ï¼ˆåå•†èšåˆï¼‰"
	@echo "  make run-advanced    - è¿è¡Œé«˜çº§åŠŸèƒ½æ¼”ç¤ºï¼ˆç¼“å­˜/Tool Calling/Fallback ç­‰ï¼‰"
	@echo "  make run-all         - è¿è¡Œæ‰€æœ‰ç¤ºä¾‹"
	@echo ""
	@echo "  make build           - ç¼–è¯‘ç¤ºä¾‹ç¨‹åº"
	@echo "  make clean           - æ¸…ç†ç¼–è¯‘æ–‡ä»¶"
	@echo "  make check-env       - æ£€æŸ¥ç¯å¢ƒå˜é‡"
	@echo ""
	@echo "ç¯å¢ƒå˜é‡ï¼š"
	@echo "  DEEPSEEK_API_KEY     - DeepSeek API Keyï¼ˆæ¨èï¼‰"
	@echo "  OPENAI_API_KEY       - OpenAI API Keyï¼ˆå¯é€‰ï¼‰"
	@echo ""
	@echo "ç¤ºä¾‹ï¼š"
	@echo "  export DEEPSEEK_API_KEY=\"your-api-key\""
	@echo "  make run-basic"

# æ£€æŸ¥ç¯å¢ƒå˜é‡
check-env:
	@if [ -z "$$DEEPSEEK_API_KEY" ] && [ -z "$$OPENAI_API_KEY" ]; then \
		echo "âŒ é”™è¯¯: æœªè®¾ç½® API Key"; \
		echo ""; \
		echo "è¯·å…ˆè®¾ç½®ç¯å¢ƒå˜é‡ï¼š"; \
		echo "  export DEEPSEEK_API_KEY=\"your-api-key\""; \
		echo "æˆ–"; \
		echo "  export OPENAI_API_KEY=\"your-api-key\""; \
		exit 1; \
	fi
	@echo "âœ… ç¯å¢ƒæ£€æŸ¥é€šè¿‡"

# è¿è¡ŒåŸºç¡€ç¤ºä¾‹
run-basic: check-env
	@echo "ğŸš€ è¿è¡ŒåŸºç¡€ç¤ºä¾‹..."
	go run main.go -scenario=basic

# è¿è¡Œæ—…è¡Œè§„åˆ’ç¤ºä¾‹
run-travel: check-env
	@echo "ğŸš€ è¿è¡Œæ—…è¡Œè§„åˆ’ç¤ºä¾‹..."
	go run main.go -scenario=travel

# è¿è¡Œä»£ç å®¡æŸ¥ç¤ºä¾‹
run-review: check-env
	@echo "ğŸš€ è¿è¡Œä»£ç å®¡æŸ¥ç¤ºä¾‹..."
	go run main.go -scenario=review

# è¿è¡Œé«˜çº§åŠŸèƒ½æ¼”ç¤º
run-advanced: check-env
	@echo "ğŸš€ è¿è¡Œé«˜çº§åŠŸèƒ½æ¼”ç¤º..."
	go run main.go -scenario=advanced

# è¿è¡Œæ‰€æœ‰ç¤ºä¾‹
run-all: check-env
	@echo "ğŸš€ è¿è¡Œæ‰€æœ‰ç¤ºä¾‹..."
	go run main.go -scenario=all

# ä½¿ç”¨ OpenAI è¿è¡ŒåŸºç¡€ç¤ºä¾‹
run-openai: check-env
	@echo "ğŸš€ ä½¿ç”¨ OpenAI è¿è¡ŒåŸºç¡€ç¤ºä¾‹..."
	go run main.go -scenario=basic -provider=openai

# ç¼–è¯‘
build:
	@echo "ğŸ”¨ ç¼–è¯‘ SupervisorAgent ç¤ºä¾‹..."
	go build -o supervisor_example main.go
	@echo "âœ… ç¼–è¯‘å®Œæˆ: ./supervisor_example"
	@echo ""
	@echo "è¿è¡Œæ–¹å¼ï¼š"
	@echo "  ./supervisor_example -scenario=basic"
	@echo "  ./supervisor_example -scenario=travel"
	@echo "  ./supervisor_example -scenario=review"
	@echo "  ./supervisor_example -scenario=advanced"
	@echo "  ./supervisor_example -scenario=all"

# æ¸…ç†
clean:
	@echo "ğŸ§¹ æ¸…ç†ç¼–è¯‘æ–‡ä»¶..."
	rm -f supervisor_example
	@echo "âœ… æ¸…ç†å®Œæˆ"

# æ˜¾ç¤ºå¯ç”¨çš„å‘½ä»¤å‚æ•°
params:
	@echo "å¯ç”¨çš„å‘½ä»¤è¡Œå‚æ•°ï¼š"
	@echo ""
	@echo "  -scenario <åœºæ™¯>"
	@echo "    basic   - åŸºç¡€ç¤ºä¾‹ï¼ˆé»˜è®¤ï¼‰"
	@echo "    travel  - æ—…è¡Œè§„åˆ’"
	@echo "    review  - ä»£ç å®¡æŸ¥"
	@echo "    all     - æ‰€æœ‰ç¤ºä¾‹"
	@echo ""
	@echo "  -provider <æä¾›å•†>"
	@echo "    deepseek - DeepSeekï¼ˆé»˜è®¤ï¼‰"
	@echo "    openai   - OpenAI"
	@echo ""
	@echo "ç¤ºä¾‹ï¼š"
	@echo "  go run main.go -scenario=travel -provider=openai"
