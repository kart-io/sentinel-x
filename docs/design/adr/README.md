# 架构决策记录 (Architecture Decision Records)

> **说明**: 本目录记录了 Sentinel-X 项目的重要架构决策。

---

## 什么是 ADR？

架构决策记录（Architecture Decision Record, ADR）是一种记录重要架构决策的轻量级文档格式。每个 ADR 记录：

- **背景**：为什么需要做这个决策？
- **决策**：我们决定做什么？
- **理由**：为什么这样做？
- **后果**：这个决策的影响是什么？

## ADR 列表

| 编号 | 标题 | 状态 | 日期 | 说明 |
|------|------|------|------|------|
| [ADR-001](ADR-001-remove-factory-pattern.md) | 移除 Factory 模式和 Bootstrap 层 | ✅ 已接受 | 2025-12-XX | 简化架构，移除过度设计 |
| [ADR-002](ADR-002-rag-performance-optimization.md) | RAG 服务性能优化策略 | 🚧 进行中 | 2026-01-17 | 向量索引优化、缓存策略 |

---

## ADR 状态说明

- ✅ **已接受** (Accepted): 决策已实施
- 🚧 **进行中** (In Progress): 决策正在实施
- 📝 **提议** (Proposed): 决策待讨论
- ❌ **已拒绝** (Rejected): 决策被拒绝
- 🔄 **已替代** (Superseded): 被新决策替代
- ⚠️ **已废弃** (Deprecated): 决策已过时

---

## 如何创建 ADR？

### 1. 创建新文件

```bash
# 文件命名格式: ADR-XXX-short-title.md
touch docs/design/adr/ADR-003-your-decision-title.md
```

### 2. 使用模板

```markdown
# ADR-XXX: 决策标题

> **状态**: 提议 / 已接受 / 已拒绝
> **日期**: YYYY-MM-DD
> **决策者**: 团队名称

---

## 背景

描述需要做决策的背景和问题。

## 决策

描述我们决定做什么。

## 理由

解释为什么这样做。

## 后果

### 正面影响
- 列出好处

### 负面影响
- 列出代价和风险

---

## 参考资料

- 相关文档链接
```

### 3. 更新索引

在本文件（README.md）的 ADR 列表中添加新记录。

---

## ADR 最佳实践

1. **及时记录**：在做出决策后立即记录，不要拖延
2. **保持简洁**：ADR 应该简洁明了，通常 1-2 页即可
3. **记录理由**：重点记录"为什么"，而不仅仅是"做什么"
4. **包含后果**：诚实记录决策的正面和负面影响
5. **不可变性**：ADR 一旦接受，不应修改。如果需要改变决策，创建新的 ADR
6. **引用证据**：引用相关的性能数据、用户反馈、技术文档等

---

## 参考资料

- [ADR 介绍](https://adr.github.io/)
- [架构设计文档](../architecture.md)
- [项目分析报告](../../../docs/project-analysis.md)
